{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nutzv\\\\OneDrive\\\\Desktop\\\\finaaaal\\\\Capstone_Azor\\\\azor\\\\src\\\\components\\\\tables\\\\BookingsRows.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport Badge from \"react-bootstrap/esm/Badge\";\nimport Button from \"react-bootstrap/esm/Button\";\nimport { Link } from \"react-router-dom\";\nimport ViewBookingModal from \"../modals/ViewBookingModal\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookingsRows = _ref => {\n  _s();\n  let {\n    booking\n  } = _ref;\n  const {\n    user\n  } = useAuthContext();\n  let bookdate = new Date(`${booking.date}`).toLocaleDateString();\n  const [showModal, setShowModal] = useState(false);\n\n  // const swalWithBootstrapButtons = Swal.mixin({\n  //   customClass: {\n  //     confirmButton: \"btn btn-success me-3\",\n  //     cancelButton: \"btn btn-danger\",\n  //   },\n  //   buttonsStyling: false,\n  // });\n\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n\n  //   if (!user) {\n  //     setError(\"You must be logged in!\");\n  //     return;\n  //   } else {\n  //     swalWithBootstrapButtons\n  //       .fire({\n  //         title: \"Are you sure?\",\n  //         text: \"You won't be able to revert this!!\",\n  //         icon: \"warning\",\n  //         showCancelButton: true,\n  //         confirmButtonColor: \"#3085d6\",\n  //         cancelButtonColor: \"#d33\",\n  //         confirmButtonText: \"Yes, cancel it!\",\n  //       })\n  //       .then((result) => {\n  //         if (result.isConfirmed) {\n  //           swalWithBootstrapButtons.fire(\n  //             \"Booking Cancelled!\",\n  //             `Booking with Ref. Num. <strong>${booking._id}</strong> has been cancelled.`,\n  //             \"success\"\n  //           );\n  //           cancelBooking();\n  //         }\n  //       });\n  //   }\n  // };\n\n  // const cancelBooking = async (e) => {\n  //   if (!user) {\n  //     setError(\"You must be logged in\");\n  //     return;\n  //   }\n\n  //   const status = {\n  //     stats: \"Cancel\",\n  //   };\n\n  //   console.log(status);\n  //   const response = await fetch(`/api/bookings/cancel/${booking._id}`, {\n  //     method: \"PATCH\",\n  //     body: JSON.stringify(status),\n  //     headers: {\n  //       \"Content-Type\": \"application/json\",\n  //       Authorization: `Bearer ${user.token}`,\n  //     },\n  //   });\n  //   const json = await response.json();\n\n  //   if (!response.ok) {\n  //     console.log(json.error);\n  //     setError(json.error);\n  //   }\n\n  //   if (response.ok) {\n  //     console.log(\"Booking cancelled!\", json);\n  //     // dispatch({ type: \"UPDATE_BOOKING\", payload: json });\n  //     // navigate(`/account/user/${id}/bookings`);\n  //   }\n  // };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n      onClick: () => {\n        setShowModal(true);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: booking._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: [booking.first_name, \" \", booking.last_name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: bookdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: booking.time_slot\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          children: /*#__PURE__*/_jsxDEV(Badge, {\n            bg: booking.stats === \"Completed\" ? \"success\" : booking.stats === \"Pending\" ? \"warning\" : \"danger\",\n            className: \"ms-auto\",\n            children: booking.stats\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"text-center\",\n        style: {\n          width: \"1rem\"\n        },\n        children: booking.stats === \"Completed\" || booking.stats === \"Cancelled\" ? \"\" : /*#__PURE__*/_jsxDEV(Button, {\n          as: Link,\n          to: `/account/bookings/${booking._id}/complete-booking`,\n          size: \"sm\",\n          className: \"btn-success\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-regular fa-square-check\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        className: \"text-center\",\n        style: {\n          width: \"1rem\"\n        },\n        children: [\" \", booking.stats === \"Completed\" || booking.stats === \"Cancelled\" ? \"\" :\n        /*#__PURE__*/\n        // <form onSubmit={handleSubmit}>\n        _jsxDEV(Button, {\n          size: \"sm\",\n          className: \"btn-dark\",\n          disabled: booking.stats === \"Completed\" ? true : false\n          // type=\"submit\"\n          ,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fa-solid fa-xmark\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ViewBookingModal, {\n      showModal: showModal,\n      setShowModal: setShowModal,\n      booking: booking,\n      bookdate: bookdate\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(BookingsRows, \"p/km7Z+3jd8La8brBaN8zc2RlL8=\", false, function () {\n  return [useAuthContext];\n});\n_c = BookingsRows;\nexport default BookingsRows;\nvar _c;\n$RefreshReg$(_c, \"BookingsRows\");","map":{"version":3,"names":["React","useState","Badge","Button","Link","ViewBookingModal","useAuthContext","BookingsRows","booking","user","bookdate","Date","date","toLocaleDateString","showModal","setShowModal","_id","first_name","last_name","time_slot","stats","width"],"sources":["C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/src/components/tables/BookingsRows.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Badge from \"react-bootstrap/esm/Badge\";\r\nimport Button from \"react-bootstrap/esm/Button\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ViewBookingModal from \"../modals/ViewBookingModal\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\n\r\nconst BookingsRows = ({ booking }) => {\r\n  const { user } = useAuthContext();\r\n\r\n  let bookdate = new Date(`${booking.date}`).toLocaleDateString();\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  // const swalWithBootstrapButtons = Swal.mixin({\r\n  //   customClass: {\r\n  //     confirmButton: \"btn btn-success me-3\",\r\n  //     cancelButton: \"btn btn-danger\",\r\n  //   },\r\n  //   buttonsStyling: false,\r\n  // });\r\n\r\n  // const handleSubmit = (e) => {\r\n  //   e.preventDefault();\r\n\r\n  //   if (!user) {\r\n  //     setError(\"You must be logged in!\");\r\n  //     return;\r\n  //   } else {\r\n  //     swalWithBootstrapButtons\r\n  //       .fire({\r\n  //         title: \"Are you sure?\",\r\n  //         text: \"You won't be able to revert this!!\",\r\n  //         icon: \"warning\",\r\n  //         showCancelButton: true,\r\n  //         confirmButtonColor: \"#3085d6\",\r\n  //         cancelButtonColor: \"#d33\",\r\n  //         confirmButtonText: \"Yes, cancel it!\",\r\n  //       })\r\n  //       .then((result) => {\r\n  //         if (result.isConfirmed) {\r\n  //           swalWithBootstrapButtons.fire(\r\n  //             \"Booking Cancelled!\",\r\n  //             `Booking with Ref. Num. <strong>${booking._id}</strong> has been cancelled.`,\r\n  //             \"success\"\r\n  //           );\r\n  //           cancelBooking();\r\n  //         }\r\n  //       });\r\n  //   }\r\n  // };\r\n\r\n  // const cancelBooking = async (e) => {\r\n  //   if (!user) {\r\n  //     setError(\"You must be logged in\");\r\n  //     return;\r\n  //   }\r\n\r\n  //   const status = {\r\n  //     stats: \"Cancel\",\r\n  //   };\r\n\r\n  //   console.log(status);\r\n  //   const response = await fetch(`/api/bookings/cancel/${booking._id}`, {\r\n  //     method: \"PATCH\",\r\n  //     body: JSON.stringify(status),\r\n  //     headers: {\r\n  //       \"Content-Type\": \"application/json\",\r\n  //       Authorization: `Bearer ${user.token}`,\r\n  //     },\r\n  //   });\r\n  //   const json = await response.json();\r\n\r\n  //   if (!response.ok) {\r\n  //     console.log(json.error);\r\n  //     setError(json.error);\r\n  //   }\r\n\r\n  //   if (response.ok) {\r\n  //     console.log(\"Booking cancelled!\", json);\r\n  //     // dispatch({ type: \"UPDATE_BOOKING\", payload: json });\r\n  //     // navigate(`/account/user/${id}/bookings`);\r\n  //   }\r\n  // };\r\n\r\n  return (\r\n    <>\r\n      <tr\r\n        onClick={() => {\r\n          setShowModal(true);\r\n        }}\r\n      >\r\n        <td>{booking._id}</td>\r\n        <td>\r\n          {booking.first_name} {booking.last_name}\r\n        </td>\r\n        <td>{bookdate}</td>\r\n        <td>{booking.time_slot}</td>\r\n        <td>\r\n          <h6>\r\n            <Badge\r\n              bg={\r\n                booking.stats === \"Completed\"\r\n                  ? \"success\"\r\n                  : booking.stats === \"Pending\"\r\n                  ? \"warning\"\r\n                  : \"danger\"\r\n              }\r\n              className=\"ms-auto\"\r\n            >\r\n              {booking.stats}\r\n            </Badge>\r\n          </h6>\r\n        </td>\r\n\r\n        <td className=\"text-center\" style={{ width: \"1rem\" }}>\r\n          {booking.stats === \"Completed\" || booking.stats === \"Cancelled\" ? (\r\n            \"\"\r\n          ) : (\r\n            <Button\r\n              as={Link}\r\n              to={`/account/bookings/${booking._id}/complete-booking`}\r\n              size=\"sm\"\r\n              className=\"btn-success\"\r\n            >\r\n              <i className=\"fa-regular fa-square-check\"></i>\r\n            </Button>\r\n          )}\r\n        </td>\r\n        <td className=\"text-center\" style={{ width: \"1rem\" }}>\r\n          {\" \"}\r\n          {booking.stats === \"Completed\" || booking.stats === \"Cancelled\" ? (\r\n            \"\"\r\n          ) : (\r\n            // <form onSubmit={handleSubmit}>\r\n            <Button\r\n              size=\"sm\"\r\n              className=\"btn-dark\"\r\n              disabled={booking.stats === \"Completed\" ? true : false}\r\n              // type=\"submit\"\r\n            >\r\n              <i className=\"fa-solid fa-xmark\"></i>\r\n            </Button>\r\n          )}\r\n        </td>\r\n      </tr>\r\n\r\n      <ViewBookingModal\r\n        showModal={showModal}\r\n        setShowModal={setShowModal}\r\n        booking={booking}\r\n        bookdate={bookdate}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BookingsRows;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,KAAK,MAAM,2BAA2B;AAC7C,OAAOC,MAAM,MAAM,4BAA4B;AAC/C,SAASC,IAAI,QAAQ,kBAAkB;AACvC,OAAOC,gBAAgB,MAAM,4BAA4B;AACzD,SAASC,cAAc,QAAQ,yBAAyB;AAAC;AAAA;AAEzD,MAAMC,YAAY,GAAG,QAAiB;EAAA;EAAA,IAAhB;IAAEC;EAAQ,CAAC;EAC/B,MAAM;IAAEC;EAAK,CAAC,GAAGH,cAAc,EAAE;EAEjC,IAAII,QAAQ,GAAG,IAAIC,IAAI,CAAE,GAAEH,OAAO,CAACI,IAAK,EAAC,CAAC,CAACC,kBAAkB,EAAE;EAE/D,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;;EAEjD;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACE;IAAA,wBACE;MACE,OAAO,EAAE,MAAM;QACbc,YAAY,CAAC,IAAI,CAAC;MACpB,CAAE;MAAA,wBAEF;QAAA,UAAKP,OAAO,CAACQ;MAAG;QAAA;QAAA;QAAA;MAAA,QAAM,eACtB;QAAA,WACGR,OAAO,CAACS,UAAU,OAAGT,OAAO,CAACU,SAAS;MAAA;QAAA;QAAA;QAAA;MAAA,QACpC,eACL;QAAA,UAAKR;MAAQ;QAAA;QAAA;QAAA;MAAA,QAAM,eACnB;QAAA,UAAKF,OAAO,CAACW;MAAS;QAAA;QAAA;QAAA;MAAA,QAAM,eAC5B;QAAA,uBACE;UAAA,uBACE,QAAC,KAAK;YACJ,EAAE,EACAX,OAAO,CAACY,KAAK,KAAK,WAAW,GACzB,SAAS,GACTZ,OAAO,CAACY,KAAK,KAAK,SAAS,GAC3B,SAAS,GACT,QACL;YACD,SAAS,EAAC,SAAS;YAAA,UAElBZ,OAAO,CAACY;UAAK;YAAA;YAAA;YAAA;UAAA;QACR;UAAA;UAAA;UAAA;QAAA;MACL;QAAA;QAAA;QAAA;MAAA,QACF,eAEL;QAAI,SAAS,EAAC,aAAa;QAAC,KAAK,EAAE;UAAEC,KAAK,EAAE;QAAO,CAAE;QAAA,UAClDb,OAAO,CAACY,KAAK,KAAK,WAAW,IAAIZ,OAAO,CAACY,KAAK,KAAK,WAAW,GAC7D,EAAE,gBAEF,QAAC,MAAM;UACL,EAAE,EAAEhB,IAAK;UACT,EAAE,EAAG,qBAAoBI,OAAO,CAACQ,GAAI,mBAAmB;UACxD,IAAI,EAAC,IAAI;UACT,SAAS,EAAC,aAAa;UAAA,uBAEvB;YAAG,SAAS,EAAC;UAA4B;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA;MAEjD;QAAA;QAAA;QAAA;MAAA,QACE,eACL;QAAI,SAAS,EAAC,aAAa;QAAC,KAAK,EAAE;UAAEK,KAAK,EAAE;QAAO,CAAE;QAAA,WAClD,GAAG,EACHb,OAAO,CAACY,KAAK,KAAK,WAAW,IAAIZ,OAAO,CAACY,KAAK,KAAK,WAAW,GAC7D,EAAE;QAAA;QAEF;QACA,QAAC,MAAM;UACL,IAAI,EAAC,IAAI;UACT,SAAS,EAAC,UAAU;UACpB,QAAQ,EAAEZ,OAAO,CAACY,KAAK,KAAK,WAAW,GAAG,IAAI,GAAG;UACjD;UAAA;UAAA,uBAEA;YAAG,SAAS,EAAC;UAAmB;YAAA;YAAA;YAAA;UAAA;QAAK;UAAA;UAAA;UAAA;QAAA,QAExC;MAAA;QAAA;QAAA;QAAA;MAAA,QACE;IAAA;MAAA;MAAA;MAAA;IAAA,QACF,eAEL,QAAC,gBAAgB;MACf,SAAS,EAAEN,SAAU;MACrB,YAAY,EAAEC,YAAa;MAC3B,OAAO,EAAEP,OAAQ;MACjB,QAAQ,EAAEE;IAAS;MAAA;MAAA;MAAA;IAAA,QACnB;EAAA,gBACD;AAEP,CAAC;AAAC,GApJIH,YAAY;EAAA,QACCD,cAAc;AAAA;AAAA,KAD3BC,YAAY;AAsJlB,eAAeA,YAAY;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}