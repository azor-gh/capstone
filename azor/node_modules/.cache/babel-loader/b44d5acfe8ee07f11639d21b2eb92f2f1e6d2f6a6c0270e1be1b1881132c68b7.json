{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import React,{useEffect,useState}from\"react\";import Badge from\"react-bootstrap/esm/Badge\";import Table from\"react-bootstrap/Table\";import{useBookingsContext}from\"../hooks/useBookingsContext\";import{useUsersContext}from\"../hooks/useUsersContext\";import BookingsRows from\"./BookingsRows\";import{useAuthContext}from\"../hooks/useAuthContext\";import{useCustomerInquiryContext}from\"../hooks/useInquiriesContext\";import AdminUserRows from\"./AdminUserRows\";import AdminInquiresRows from\"./AdminInquiriesRows\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminUserListTable=function AdminUserListTable(){var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var _useCustomerInquiryCo=useCustomerInquiryContext(),inquiries=_useCustomerInquiryCo.inquiries,dispatch=_useCustomerInquiryCo.dispatch;useEffect(function(){var fetchInquires=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/inquiries\",{headers:{Authorization:\"Bearer \".concat(user.token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;// pass to a variable to use the data\n// check if response is ok\nif(response.ok){dispatch({type:\"GET_INQUIRIES\",payload:json});}case 7:case\"end\":return _context.stop();}}},_callee);}));return function fetchInquires(){return _ref.apply(this,arguments);};}();if(user){fetchInquires();}},[dispatch,user]);return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(Table,{hover:true,responsive:true,variant:\"light\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Date Recieved\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:inquiries&&inquiries.map(function(inquiry){return/*#__PURE__*/_jsx(AdminInquiresRows,{inquiry:inquiry},inquiry._id);})})]})});};export default AdminUserListTable;","map":{"version":3,"names":["React","useEffect","useState","Badge","Table","useBookingsContext","useUsersContext","BookingsRows","useAuthContext","useCustomerInquiryContext","AdminUserRows","AdminInquiresRows","AdminUserListTable","user","inquiries","dispatch","fetchInquires","fetch","headers","Authorization","token","response","json","ok","type","payload","map","inquiry","_id"],"sources":["C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/src/components/tables/AdminInquiriesTable.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Badge from \"react-bootstrap/esm/Badge\";\r\nimport Table from \"react-bootstrap/Table\";\r\nimport { useBookingsContext } from \"../hooks/useBookingsContext\";\r\nimport { useUsersContext } from \"../hooks/useUsersContext\";\r\nimport BookingsRows from \"./BookingsRows\";\r\nimport { useAuthContext } from \"../hooks/useAuthContext\";\r\nimport { useCustomerInquiryContext } from \"../hooks/useInquiriesContext\";\r\nimport AdminUserRows from \"./AdminUserRows\";\r\nimport AdminInquiresRows from \"./AdminInquiriesRows\";\r\n\r\nconst AdminUserListTable = () => {\r\n  const { user } = useAuthContext();\r\n  const { inquiries, dispatch } = useCustomerInquiryContext();\r\n\r\n  useEffect(() => {\r\n    const fetchInquires = async () => {\r\n      const response = await fetch(\"/api/inquiries\", {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      }); // fetch data from the server\r\n      const json = await response.json(); // pass to a variable to use the data\r\n\r\n      // check if response is ok\r\n      if (response.ok) {\r\n        dispatch({ type: \"GET_INQUIRIES\", payload: json });\r\n      }\r\n    };\r\n    if (user) {\r\n      fetchInquires();\r\n    }\r\n  }, [dispatch, user]);\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <Table hover responsive variant=\"light\">\r\n        <thead>\r\n          <tr>\r\n            <th>Name</th>\r\n            <th>Email</th>\r\n            <th>Message</th>\r\n            <th>Date Recieved</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {inquiries &&\r\n            inquiries.map((inquiry) => (\r\n              <AdminInquiresRows key={inquiry._id} inquiry={inquiry} />\r\n            ))}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUserListTable;\r\n"],"mappings":"kTAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAOC,MAAK,KAAM,2BAA2B,CAC7C,MAAOC,MAAK,KAAM,uBAAuB,CACzC,OAASC,kBAAkB,KAAQ,6BAA6B,CAChE,OAASC,eAAe,KAAQ,0BAA0B,CAC1D,MAAOC,aAAY,KAAM,gBAAgB,CACzC,OAASC,cAAc,KAAQ,yBAAyB,CACxD,OAASC,yBAAyB,KAAQ,8BAA8B,CACxE,MAAOC,cAAa,KAAM,iBAAiB,CAC3C,MAAOC,kBAAiB,KAAM,sBAAsB,CAAC,wFAErD,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC/B,oBAAiBJ,cAAc,EAAE,CAAzBK,IAAI,iBAAJA,IAAI,CACZ,0BAAgCJ,yBAAyB,EAAE,CAAnDK,SAAS,uBAATA,SAAS,CAAEC,QAAQ,uBAARA,QAAQ,CAE3Bd,SAAS,CAAC,UAAM,CACd,GAAMe,cAAa,4FAAG,6KACGC,MAAK,CAAC,gBAAgB,CAAE,CAC7CC,OAAO,CAAE,CAAEC,aAAa,kBAAYN,IAAI,CAACO,KAAK,CAAG,CACnD,CAAC,CAAC,QAFIC,QAAQ,qCAGKA,SAAQ,CAACC,IAAI,EAAE,QAA5BA,IAAI,eAA0B;AAEpC;AACA,GAAID,QAAQ,CAACE,EAAE,CAAE,CACfR,QAAQ,CAAC,CAAES,IAAI,CAAE,eAAe,CAAEC,OAAO,CAAEH,IAAK,CAAC,CAAC,CACpD,CAAC,sDACF,kBAVKN,cAAa,0CAUlB,CACD,GAAIH,IAAI,CAAE,CACRG,aAAa,EAAE,CACjB,CACF,CAAC,CAAE,CAACD,QAAQ,CAAEF,IAAI,CAAC,CAAC,CAEpB,mBACE,YAAK,SAAS,CAAC,EAAE,uBACf,MAAC,KAAK,EAAC,KAAK,MAAC,UAAU,MAAC,OAAO,CAAC,OAAO,wBACrC,oCACE,mCACE,4BAAa,cACb,6BAAc,cACd,+BAAgB,cAChB,qCAAsB,GACnB,EACC,cACR,uBACGC,SAAS,EACRA,SAAS,CAACY,GAAG,CAAC,SAACC,OAAO,qBACpB,KAAC,iBAAiB,EAAmB,OAAO,CAAEA,OAAQ,EAA9BA,OAAO,CAACC,GAAG,CAAsB,EAC1D,CAAC,EACE,GACF,EACJ,CAEV,CAAC,CAED,cAAehB,mBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}