{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nutzv\\\\OneDrive\\\\Desktop\\\\finaaaal\\\\Capstone_Azor\\\\azor\\\\src\\\\pages\\\\user\\\\UserHome.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Container from \"react-bootstrap/esm/Container\";\nimport ActivityCard from \"../../components/cards/users/ActivityCard\";\nimport AddBookingBtn from \"../../components/buttons/AddBookingBtn\";\nimport { useBookingsContext } from \"../../components/hooks/useBookingsContext\";\nimport Spinner from \"react-bootstrap/esm/Spinner\";\nimport Card from \"react-bootstrap/Card\";\nimport { Link } from \"react-router-dom\";\nimport Row from \"react-bootstrap/esm/Row\";\nimport Col from \"react-bootstrap/esm/Col\";\nimport { useAuthContext } from \"../../components/hooks/useAuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserHome = () => {\n  _s();\n  const {\n    bookings,\n    dispatch\n  } = useBookingsContext();\n  const {\n    user\n  } = useAuthContext();\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const fetchBookings = async () => {\n      const response = await fetch(\"/api/bookings\", {\n        headers: {\n          Authorization: `Bearer ${user.token}`\n        }\n      });\n\n      // fetch data from the server\n      const json = await response.json(); // pass to a variable to use the data\n\n      // check if response is ok\n      if (response.ok) {\n        dispatch({\n          type: \"SET_BOOKINGS\",\n          payload: json\n        });\n        setLoading(false);\n      }\n    };\n    if (user) {\n      fetchBookings();\n    }\n  }, [dispatch, user]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        className: \"mt-3 border-bottom border-secondary\",\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Container, {\n        className: \"d-flex flex-column mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(Card, {\n          bg: \"dark\",\n          className: \"w-100 border-secondary\",\n          style: {\n            borderRadius: 0\n          },\n          children: /*#__PURE__*/_jsxDEV(Card.Body, {\n            className: \"text-white\",\n            children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Get rid of your worries for good.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n              children: \"It's not all about money though - your motorcycle's service will also cover key safety areas such as brakes, steering, suspension and tyres and can help to spot potential problems before they take you off the road.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ms-auto\",\n              children: /*#__PURE__*/_jsxDEV(AddBookingBtn, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex flex-column\",\n          style: {\n            position: \"relative\",\n            paddingLeft: 0,\n            paddingRight: 0\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-5 mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Recent Appoinments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                to: `/account/bookings`,\n                children: \"See All\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 13\n          }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center\",\n            children: /*#__PURE__*/_jsxDEV(Spinner, {\n              animation: \"border\",\n              variant: \"primary\",\n              size: \"lg\",\n              className: \"mt-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Row, {\n            children: bookings !== \"\" ? bookings.slice(0, 4).map(booking => /*#__PURE__*/_jsxDEV(Col, {\n              sm: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(ActivityCard, {\n                booking: booking\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 23\n              }, this)\n            }, booking._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 21\n            }, this)) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center\",\n                children: [\"It seems you don't have any appointment yet.\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-primary text-center\",\n                children: \"Book an appointment now!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(UserHome, \"PYVgzj9/tWZzT/Z39kI2jASrYSU=\", false, function () {\n  return [useBookingsContext, useAuthContext];\n});\n_c = UserHome;\nexport default UserHome;\nvar _c;\n$RefreshReg$(_c, \"UserHome\");","map":{"version":3,"names":["React","useEffect","useState","Container","ActivityCard","AddBookingBtn","useBookingsContext","Spinner","Card","Link","Row","Col","useAuthContext","UserHome","bookings","dispatch","user","loading","setLoading","fetchBookings","response","fetch","headers","Authorization","token","json","ok","type","payload","height","borderRadius","position","paddingLeft","paddingRight","slice","map","booking","_id"],"sources":["C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/src/pages/user/UserHome.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Container from \"react-bootstrap/esm/Container\";\r\nimport ActivityCard from \"../../components/cards/users/ActivityCard\";\r\nimport AddBookingBtn from \"../../components/buttons/AddBookingBtn\";\r\nimport { useBookingsContext } from \"../../components/hooks/useBookingsContext\";\r\nimport Spinner from \"react-bootstrap/esm/Spinner\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Row from \"react-bootstrap/esm/Row\";\r\nimport Col from \"react-bootstrap/esm/Col\";\r\nimport { useAuthContext } from \"../../components/hooks/useAuthContext\";\r\n\r\nconst UserHome = () => {\r\n  const { bookings, dispatch } = useBookingsContext();\r\n  const { user } = useAuthContext();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      const response = await fetch(\"/api/bookings\", {\r\n        headers: {\r\n          Authorization: `Bearer ${user.token}`,\r\n        },\r\n      });\r\n\r\n      // fetch data from the server\r\n      const json = await response.json(); // pass to a variable to use the data\r\n\r\n      // check if response is ok\r\n      if (response.ok) {\r\n        dispatch({ type: \"SET_BOOKINGS\", payload: json });\r\n        setLoading(false);\r\n      }\r\n    };\r\n    if (user) {\r\n      fetchBookings();\r\n    }\r\n  }, [dispatch, user]);\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: \"100vh\" }}>\r\n        <Container className=\"mt-3 border-bottom border-secondary\">\r\n          <h1>Home</h1>\r\n        </Container>\r\n        <Container className=\"d-flex flex-column mt-2\">\r\n          <Card\r\n            bg=\"dark\"\r\n            className=\"w-100 border-secondary\"\r\n            style={{ borderRadius: 0 }}\r\n          >\r\n            <Card.Body className=\"text-white\">\r\n              <Card.Title className=\"mb-3\">\r\n                <h3>\r\n                  <strong>Get rid of your worries for good.</strong>\r\n                </h3>\r\n              </Card.Title>\r\n\r\n              <Card.Text>\r\n                It's not all about money though - your motorcycle's service will\r\n                also cover key safety areas such as brakes, steering, suspension\r\n                and tyres and can help to spot potential problems before they\r\n                take you off the road.\r\n              </Card.Text>\r\n              <div className=\"ms-auto\">\r\n                <AddBookingBtn />\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n\r\n          <div\r\n            className=\"d-flex flex-column\"\r\n            style={{ position: \"relative\", paddingLeft: 0, paddingRight: 0 }}\r\n          >\r\n            <div className=\"mt-5 mb-3\">\r\n              <h2>Recent Appoinments</h2>\r\n              <h5>\r\n                <Link to={`/account/bookings`}>See All</Link>\r\n              </h5>\r\n            </div>\r\n            {loading ? (\r\n              <div className=\"d-flex justify-content-center\">\r\n                <Spinner\r\n                  animation=\"border\"\r\n                  variant=\"primary\"\r\n                  size=\"lg\"\r\n                  className=\"mt-5\"\r\n                />\r\n              </div>\r\n            ) : (\r\n              <Row>\r\n                {bookings !== \"\" ? (\r\n                  bookings.slice(0, 4).map((booking) => (\r\n                    <Col sm={12} md={6} key={booking._id}>\r\n                      <ActivityCard booking={booking} />\r\n                    </Col>\r\n                  ))\r\n                ) : (\r\n                  <>\r\n                    <h1 className=\"text-center\">\r\n                      It seems you don't have any appointment yet.{\" \"}\r\n                    </h1>\r\n                    <h2 className=\"text-primary text-center\">\r\n                      Book an appointment now!\r\n                    </h2>\r\n                  </>\r\n                )}\r\n              </Row>\r\n            )}\r\n          </div>\r\n        </Container>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserHome;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}