{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Button from\"react-bootstrap/esm/Button\";import Col from\"react-bootstrap/esm/Col\";import Container from\"react-bootstrap/esm/Container\";import Row from\"react-bootstrap/esm/Row\";import Spinner from\"react-bootstrap/esm/Spinner\";import Form from\"react-bootstrap/Form\";import{Link,useParams}from\"react-router-dom\";import Avatar from\"../../assets/media/images/Avatar.png\";import{useAuthContext}from\"../../components/hooks/useAuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AdminEditAcoountForm=function AdminEditAcoountForm(){var _useParams=useParams(),id=_useParams.id;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),first_name=_useState4[0],setFirst_name=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),last_name=_useState6[0],setLast_name=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),picture=_useState12[0],setPicture=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),phone=_useState14[0],setPhone=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),error=_useState16[0],setError=_useState16[1];//GET BOOKING DETAILS\nuseEffect(function(){var getUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/api/users/\".concat(user._id),{headers:{Authorization:\"Bearer \".concat(user.token)}});case 2:response=_context.sent;_context.next=5;return response.json();case 5:json=_context.sent;// pass to a variable to use the data\n// check if response is ok\nif(response.ok){setFirst_name(json.first_name);setLast_name(json.last_name);setEmail(json.email);setPicture(json.picture);}case 7:case\"end\":return _context.stop();}}},_callee);}));return function getUser(){return _ref.apply(this,arguments);};}();if(user){getUser();}},[user]);return/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\",size:\"lg\",className:\"mt-5\"})}):/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 d-flex flex-column align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:Avatar,alt:\"Avatar\",className:\"\",style:{borderRadius:\"50%\",width:\"100px\"}}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"upload\",hidden:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"upload\",className:\"btn-secondary mt-2\",children:\"Upload image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"py-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-5\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"User role:\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"ADMIN\"})]}),/*#__PURE__*/_jsxs(Row,{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-4\",controlId:\"first_name\",as:Col,md:6,lg:6,xl:6,children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-bold\",children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"First Name\",name:\"first_name\",onChange:function onChange(e){return setFirst_name(e.target.value);},value:first_name})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"last_name\",as:Col,md:6,lg:6,xl:6,children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-bold\",children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Last Name\",name:\"last_name\",onChange:function onChange(e){return setLast_name(e.target.value);},value:last_name})]})]}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-bold\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);},value:email,disabled:true})]})}),/*#__PURE__*/_jsx(Row,{className:\"mb-4\",children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",as:Col,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"fw-bold\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Label,{className:\"fw-semibold ms-auto text-primary\",as:Link,to:\"/account/user/\".concat(id,\"/account-settings/change-password\"),children:\"Change Password\"})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"password\",disabled:true,value:\"JKHJKSDdadasdas\"})]})})]})]})})});};export default AdminEditAcoountForm;","map":{"version":3,"names":["React","useEffect","useState","Button","Col","Container","Row","Spinner","Form","Link","useParams","Avatar","useAuthContext","AdminEditAcoountForm","id","user","loading","setLoading","first_name","setFirst_name","last_name","setLast_name","email","setEmail","password","setPassword","picture","setPicture","phone","setPhone","error","setError","getUser","fetch","_id","headers","Authorization","token","response","json","ok","borderRadius","width","e","target","value"],"sources":["C:/Users/nutzv/OneDrive/Desktop/finaaaal/Capstone_Azor/azor/src/pages/admin/AdminEditAccountForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Button from \"react-bootstrap/esm/Button\";\r\nimport Col from \"react-bootstrap/esm/Col\";\r\nimport Container from \"react-bootstrap/esm/Container\";\r\nimport Row from \"react-bootstrap/esm/Row\";\r\nimport Spinner from \"react-bootstrap/esm/Spinner\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport Avatar from \"../../assets/media/images/Avatar.png\";\r\nimport { useAuthContext } from \"../../components/hooks/useAuthContext\";\r\n\r\nconst AdminEditAcoountForm = () => {\r\n  const { id } = useParams();\r\n  const { user } = useAuthContext();\r\n  const [loading, setLoading] = useState(false);\r\n  const [first_name, setFirst_name] = useState(\"\");\r\n  const [last_name, setLast_name] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [picture, setPicture] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [error, setError] = useState(null);\r\n\r\n  //GET BOOKING DETAILS\r\n  useEffect(() => {\r\n    const getUser = async () => {\r\n      const response = await fetch(`/api/users/${user._id}`, {\r\n        headers: { Authorization: `Bearer ${user.token}` },\r\n      }); // fetch data from the server\r\n      const json = await response.json(); // pass to a variable to use the data\r\n\r\n      // check if response is ok\r\n      if (response.ok) {\r\n        setFirst_name(json.first_name);\r\n        setLast_name(json.last_name);\r\n        setEmail(json.email);\r\n        setPicture(json.picture);\r\n      }\r\n    };\r\n    if (user) {\r\n      getUser();\r\n    }\r\n  }, [user]);\r\n\r\n  return (\r\n    <div>\r\n      {loading ? (\r\n        <div className=\"d-flex justify-content-center\">\r\n          <Spinner\r\n            animation=\"border\"\r\n            variant=\"primary\"\r\n            size=\"lg\"\r\n            className=\"mt-5\"\r\n          />\r\n        </div>\r\n      ) : (\r\n        <Container>\r\n          <Form>\r\n            <div className=\"mt-5 d-flex flex-column align-items-center\">\r\n              <img\r\n                src={Avatar}\r\n                alt=\"Avatar\"\r\n                className=\"\"\r\n                style={{ borderRadius: \"50%\", width: \"100px\" }}\r\n              />\r\n\r\n              <input type=\"file\" id=\"upload\" hidden />\r\n              <label htmlFor=\"upload\" className=\"btn-secondary mt-2\">\r\n                Upload image\r\n              </label>\r\n            </div>\r\n            <div className=\"py-5\">\r\n              <div className=\"mb-5\">\r\n                <span>User role:</span>\r\n                <h4>ADMIN</h4>\r\n              </div>\r\n              <Row className=\"mb-4\">\r\n                <Form.Group\r\n                  className=\"mb-4\"\r\n                  controlId=\"first_name\"\r\n                  as={Col}\r\n                  md={6}\r\n                  lg={6}\r\n                  xl={6}\r\n                >\r\n                  <Form.Label className=\"fw-bold\">First Name</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"First Name\"\r\n                    name=\"first_name\"\r\n                    onChange={(e) => setFirst_name(e.target.value)}\r\n                    value={first_name}\r\n                  />\r\n                </Form.Group>\r\n                <Form.Group controlId=\"last_name\" as={Col} md={6} lg={6} xl={6}>\r\n                  <Form.Label className=\"fw-bold\">Last Name</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Last Name\"\r\n                    name=\"last_name\"\r\n                    onChange={(e) => setLast_name(e.target.value)}\r\n                    value={last_name}\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row className=\"mb-4\">\r\n                <Form.Group controlId=\"email\" as={Col}>\r\n                  <Form.Label className=\"fw-bold\">Email</Form.Label>\r\n                  <Form.Control\r\n                    type=\"email\"\r\n                    placeholder=\"Email\"\r\n                    name=\"email\"\r\n                    onChange={(e) => setEmail(e.target.value)}\r\n                    value={email}\r\n                    disabled\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n              <Row className=\"mb-4\">\r\n                <Form.Group controlId=\"password\" as={Col}>\r\n                  <div className=\"d-flex\">\r\n                    <Form.Label className=\"fw-bold\">Password</Form.Label>\r\n                    <Form.Label\r\n                      className=\"fw-semibold ms-auto text-primary\"\r\n                      as={Link}\r\n                      to={`/account/user/${id}/account-settings/change-password`}\r\n                    >\r\n                      Change Password\r\n                    </Form.Label>\r\n                  </div>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    disabled\r\n                    value=\"JKHJKSDdadasdas\"\r\n                  />\r\n                </Form.Group>\r\n              </Row>\r\n            </div>\r\n          </Form>\r\n        </Container>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminEditAcoountForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}